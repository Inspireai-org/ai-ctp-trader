# TTS 交易通道 UI 集成需求文档

## 介绍

为了方便开发者在周末进行交易测试（因为周末 CTP 通道和期货公司通道都关闭），需要在 UI 中添加 TTS（Test Trading System）交易通道的配置选项。TTS 是一个专门用于测试的交易系统，可以在非交易时间提供模拟交易环境。

## 需求

### 需求 1

**用户故事：** 作为开发者，我希望能够在 UI 中选择 TTS 交易通道，以便在周末或非交易时间进行开发测试

#### 验收标准

1. WHEN 用户打开连接配置界面 THEN 系统 SHALL 显示 TTS 交易通道选项
2. WHEN 用户选择 TTS 预设配置 THEN 系统 SHALL 自动填充 TTS 服务器地址和相关参数
3. WHEN 用户选择 TTS 配置 THEN 系统 SHALL 显示适当的提示信息说明这是测试环境
4. WHEN 用户使用 TTS 配置连接 THEN 系统 SHALL 能够成功建立连接并进行交易测试

### 需求 2

**用户故事：** 作为开发者，我希望 TTS 配置能够提供完整的交易功能，以便进行全面的功能测试

#### 验收标准

1. WHEN 用户连接到 TTS 环境 THEN 系统 SHALL 支持行情数据订阅功能
2. WHEN 用户在 TTS 环境中 THEN 系统 SHALL 支持下单、撤单等交易操作
3. WHEN 用户在 TTS 环境中 THEN 系统 SHALL 支持账户查询、持仓查询等功能
4. WHEN 用户在 TTS 环境中进行交易 THEN 系统 SHALL 正确处理订单状态和成交回报

### 需求 3

**用户故事：** 作为开发者，我希望能够方便地在不同测试环境之间切换，以便测试不同的场景

#### 验收标准

1. WHEN 用户查看环境选择列表 THEN 系统 SHALL 显示所有可用的测试环境（SimNow、OpenCTP、TTS 等）
2. WHEN 用户切换环境 THEN 系统 SHALL 自动断开当前连接并清理相关状态
3. WHEN 用户选择不同环境 THEN 系统 SHALL 显示对应环境的配置参数和说明
4. WHEN 用户保存环境配置 THEN 系统 SHALL 记住用户的选择以便下次使用

### 需求 4

**用户故事：** 作为开发者，我希望 TTS 环境配置能够提供清晰的状态反馈，以便了解连接和交易状态

#### 验收标准

1. WHEN 用户连接 TTS 环境 THEN 系统 SHALL 显示连接进度和状态信息
2. WHEN TTS 连接出现问题 THEN 系统 SHALL 显示具体的错误信息和解决建议
3. WHEN 用户在 TTS 环境中操作 THEN 系统 SHALL 提供实时的状态反馈
4. WHEN 用户查看连接信息 THEN 系统 SHALL 显示当前环境类型和连接参数（隐藏敏感信息）

### 需求 5

**用户故事：** 作为开发者，我希望 TTS 配置能够支持快速设置，以便提高开发效率

#### 验收标准

1. WHEN 用户首次使用 TTS THEN 系统 SHALL 提供默认的测试账号和密码
2. WHEN 用户选择 TTS 预设 THEN 系统 SHALL 自动配置所有必要的参数
3. WHEN 用户需要自定义配置 THEN 系统 SHALL 允许修改服务器地址和其他参数
4. WHEN 用户保存 TTS 配置 THEN 系统 SHALL 验证配置的有效性并提供反馈